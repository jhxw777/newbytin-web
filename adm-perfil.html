<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Painel do Administrador - Chatbot Newbytin</title>

  <link rel="stylesheet" href="css/sidebar.css">
  <link rel="stylesheet" href="css/adm-perfil.css">

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
  <div class="wrap">
    <div class="sidebar">
      <div class="sidebar-top">
        <div class="hamburger">‚ò∞</div>
        <div class="menu">
          <ul>
            <li onclick="window.location.href='adm-dashboard.html'">Chamados</li>
            <li onclick="window.location.href='adm-usuarios.html'">Usu√°rios</li>
            <li onclick="window.location.href='adm-perfil.html'">Perfil</li>
          </ul>
        </div>
      </div>
      <div class="sidebar-footer">
        <div class="user">
          <img id="sidebarFoto" src="img/avatar-padrao.png" class="avatar" alt="Foto do usu√°rio">
          <div class="user-text">
            <div id="sidebarName" class="name">Carregando...</div>
            <div id="sidebarRole" class="role">Carregando...</div>
          </div>
        </div>
        <button class="logout" onclick="sairSistema()">
          <span>‚èª</span> Sair
        </button>
      </div>
    </div>
    <div class="main-area">
      <div class="perfil-header">
        <img src="img/logo1.png" alt="Chatbot Newbytin" class="logo">
        <h2>Painel do Administrador</h2>
      </div>
      <div class="perfil-info">
        <div class="perfil-foto">
          <img id="fotoPerfil" src="img/avatar-padrao.png" alt="Foto do perfil">
          <label for="uploadFoto" class="btn-upload">Alterar foto</label>
          <input type="file" id="uploadFoto" accept="image/*" style="display:none">
        </div>
        <div class="perfil-dados">
          <h3 id="perfilNome">Carregando...</h3>
        </div>
      </div>
      <div class="estatisticas">
        <div class="dados">
          <p><strong id="totalUsuarios">0</strong><br>Usu√°rios Ativos</p>
          <p><strong id="totalChamados">0</strong><br>Chamados Totais</p>
          <p><strong id="chamadosAbertos">0</strong><br>Chamados Abertos</p>
        </div>
        <div class="graficos">
          <canvas id="graficoPizza"></canvas>
          <canvas id="graficoBarras"></canvas>
        </div>
      </div>
      <div class="config-sections">
        <details>
          <summary>Conta do Administrador</summary>
          <div class="section-content">
            <label>Nome:</label>
            <input type="text" id="campoNome"><br>
            <label>E-mail:</label>
            <input type="email" id="campoEmail"><br>
            <label>Nova senha:</label>
            <input type="password" id="campoSenha"><br>
            <button onclick="salvarAlteracoes()">Salvar altera√ß√µes</button>
          </div>
        </details>

        <details>
          <summary>Configura√ß√µes do Sistema</summary>
          <div class="section-content">
            <label><input type="checkbox" checked> Ativar notifica√ß√µes autom√°ticas</label><br>
            <label><input type="checkbox"> Modo de manuten√ß√£o</label><br>
            <label><input type="checkbox" checked> Permitir novos cadastros</label><br>
            <button onclick="reiniciarServidor()">Reiniciar servidor</button>
            <p class="info-text">Vers√£o atual do sistema: <strong>v3.5.1</strong></p>
          </div>
        </details>
        <details>
          <details>
            <summary>Hist√≥rico do Sistema</summary>
            <div class="section-content">
              <p><strong>√öltima manuten√ß√£o:</strong> 01/11/2025 - Servidor otimizado</p>
              <p><strong>√öltimo backup:</strong> 07/11/2025 √†s 22:15</p>
              <p><strong>Altera√ß√µes recentes:</strong></p>
              <ul>
                <li>‚úîÔ∏è 3 novos usu√°rios adicionados</li>
                <li>‚úîÔ∏è Chamados resolvidos automaticamente</li>
                <li>‚öôÔ∏è Atualiza√ß√£o de IA aplicada</li>
              </ul>
            </div>
          </details>
      </div>
    </div>
  </div>
  <script src="js/sidebar.js"></script>
  <script src="js/adm-perfil.js"></script>
  <script>
    async function sairSistema() {
      await fetch("http://localhost:5287/api/Login/logout", { method: "POST" });
      window.location.href = "index.html";
    }
    function salvarAlteracoes() {
      alert("‚úÖ Altera√ß√µes salvas com sucesso!");
    }
    function reiniciarServidor() {
      if (confirm("‚ö†Ô∏è Deseja realmente reiniciar o servidor?")) {
        alert("üîÑ Servidor reiniciado com sucesso!");
      }
    }
  </script>
</body>

</html>